<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Mon compte √† rebours</title>
    <style>
        body {
	        font-family: "Inter", sans-serif;
	        background-color: #f5f5f5;
	        color: #333;
	        display: flex;
	        flex-direction: column;
	        align-items: center;
	        justify-content: flex-start;
	        min-height: 100vh;
	        margin: 0;
	        padding: 30px;
	        }
        
        h1 {
	        font-size: 2em;
	        margin-bottom: 20px;
	        }
        
        form {
	        background: white;
	        padding: 20px;
	        border-radius: 15px;
	        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
	        width: 100%;
	        max-width: 500px;
	        margin-bottom: 30px;
	        }
        
        label {
	        display: block;
	        margin-top: 15px;
	        }
        
        input, button {
	        width: 100%;
	        padding: 8px;
	        font-size: 1em;
	        margin-top: 5px;
	        border-radius: 8px;
	        border: 1px solid #ccc;
	        }
        
        button {
	        margin-top: 20px;
	        background-color: #007bff;
	        color: white;
	        border: none;
	        cursor: pointer;
	        }
        
        button:hover {
	        background-color: #0056b3;
	        }
        
        #preview {
	        margin-top: 30px;
	        text-align: center;
	        }
        
        #preview img {
	        border-radius: 12px;
	        border: 2px solid #ccc;
	        }
    </style>
</head>
<body>
    <h1>üé® Personnaliser votre compte √† rebours</h1>

    <form method="POST">
    <label>Date cible :
      <input type="datetime-local" name="target_date"
		      value="{{ config.target_date.replace('T', ' ')[:16] }}">
    </label>

    <label>Couleur de fond :
      <input type="color" name="background_color" value="{{ config['background_color'] }}">
    </label>

    <label>Couleur du texte :
      <input type="color" name="text_color" value="{{ config['text_color'] }}">
    </label>

    <label>Taille du texte :
      <input type="number" name="font_size" value="{{ config['font_size'] }}" min="10" max="200">
    </label>

    <label>Pr√©fixe du message :
      <input type="text" name="message_prefix" value="{{ config['message_prefix'] }}">
    </label>
	    
	    <!-- üñºÔ∏è Aper√ßu dynamique du GIF -->
    <div style="margin-top: 2rem; text-align: center;">
      <p><strong>Aper√ßu du compte √† rebours :</strong></p>
      <img id="gifPreview" src="/countdown.gif?preview=1"
		      alt="Aper√ßu du compte √† rebours"
		      width="400"
		      style="border: 1px solid #ccc; border-radius: 8px; background: white; padding: 10px;">
    </div>

    <button type="submit">üíæ Valider & T√©l√©charger le GIF</button>
</form>

    <div id="preview">
        <h2>Aper√ßu en direct</h2>
        <img id="gifPreview" src="/countdown.gif?preview=1" alt="Aper√ßu du compte √† rebours" width="400">
        <br><br>
        <a id="downloadBtn" href="/countdown.gif" download="countdown.gif">
            ‚¨áÔ∏è T√©l√©charger le GIF
        </a>
    </div>

    <script>
    const form = document.querySelector("form");
    form.addEventListener("input", () => {
	    // Recharge le GIF d‚Äôaper√ßu √† chaque changement
	    document.getElementById("gifPreview").src = "/countdown.gif?preview=1&" + Date.now();
    });
</script>
</body>
</html>